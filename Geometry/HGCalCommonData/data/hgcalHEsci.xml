<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="hgcalHEsci.xml" eval="true">
  <Constant name="HEsci_nSegments1" value="6"/>
  <Constant name="HEsci_nSegments2" value="16"/>
  <Constant name="dZ_HEsci_absorber" value="34.5*mm"/>
  <Constant name="dZ_HEsci_spacer" value="9*mm"/>
  <Constant name="ZminHEsci" value="4236*mm"/>
  <Constant name="ZmaxHEsci" value="5193*mm"/>
  <Constant name="XmaxHEsci" value="2661.59*mm"/>
  <Constant name="ThetaMin" value="0.0994838*rad"/>
  <Constant name="ThetaMax1" value="0.448061*rad"/>
  <Constant name="ThetaMax2" value="0.925025*rad"/>
  <Constant name="demiPhi" value="0.174533*rad"/>
  <Constant name="ZminHEsci"  value="4236.0*mm"/>
  <Constant name="ZmaxHEsci"  value="5193.0*mm"/>
  <Constant name="rMinHEsci1" value="[etaMax:slope]*[ZminHEsci]"/>
  <Constant name="rMinHEsci2" value="[etaMax:slope]*[ZmaxHEsci]"/>
  <Constant name="rMaxHEsci1" value="([hgcal:rMaxHGCal3]+[hgcal:slope3]*([ZminHEsci]-[hgcal:zHGCal3]))"/>
  <Constant name="rMaxHEsci2" value="([hgcal:rMaxHGCal4])"/>
  <Constant name="rMapHEsci1" value="[rMaxHEsci1]*[hgcal:factor]"/>
  <Constant name="rMapHEsci2" value="[rMaxHEsci2]*[hgcal:factor]"/>
 <Vector name="HEsci_absorber" type="numeric" nEntries="2"> 1, 22 </Vector>
 <Vector name="HEsci_spacer" type="numeric" nEntries="2"> 23, 44 </Vector>
 <Vector name="HEsci_scintillator" type="numeric" nEntries="2"> 45, 66 </Vector>
</ConstantsSection> 

<SolidSection label="hgcalHEsci.xml" >
 <Polyhedra name="HGCalHEScintillator" numSide="1" startPhi="350*deg" deltaPhi="20*deg">
  <ZSection z="[ZminHEsci]"     rMin="[rMinHEsci1]"       rMax="[rMapHEsci1]"/>
  <ZSection z="[hgcal:zHGCal4]" rMin="[hgcal:rMinHGCal4]" rMax="[hgcal:rMapHGCal4]"/>
  <ZSection z="[ZmaxHEsci]"     rMin="[rMinHEsci2]"       rMax="[rMapHEsci2]"/>
 </Polyhedra>
</SolidSection>

<LogicalPartSection label="hgcalHEsci.xml">
 <LogicalPart name="HGCalHEScintillator" category="unspecified">
  <rSolid name="HGCalHEScintillator"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
</LogicalPartSection>


<PosPartSection label="hgcalHEsci.xml">
 <Algorithm name="global:DDAngular">
  <rParent name="hgcal:HGCalHE"/>
  <String name="ChildName"    value="HGCalHEScintillator"/>
  <Numeric name="StartCopyNo" value="1"/>
  <Numeric name="IncrCopyNo"  value="1"/>
  <Numeric name="N"           value="18"/>
  <Numeric name="StartAngle"  value="0*deg"/>
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="Radius"      value="0*m"/>
  <Vector name="RotateSolid" type="numeric" nEntries="3">
   0*deg, 0*deg, 0*deg </Vector>
 </Algorithm>
  <Algorithm name="hgcal:DDHGCalHEAlgo">
  <rParent name="hgcalHEsci:HGCalHEScintillator"/>
  <Vector name="MaterialNames" type="string" nEntries="3">
   materials:H_Brass, materials:H_Brass, materials:Scintillator</Vector>
  <Vector name="VolumeNames" type="string" nEntries="3">
   HEScintillatorAbsorber, HEScintillatorShield, 
   HEScintillatorSensitive</Vector>
  <Vector name="LayerType" type="numeric" nEntries="3">0, 1, -1</Vector>
  <Vector name="ThicknessType" type="numeric" nEntries="3">
   34.5*mm, 9.0*mm, 9.0*mm </Vector>
  <Vector name="ZMinType" type="numeric" nEntries="3">
   4236.0*mm, 4270.5*mm, 4270.5*mm</Vector>
  <Vector name="Offsets" type="numeric" nEntries="3"> 1, 1, 1</Vector>
  <String name="Rotation"     value="rotations:YXZ4"/>
  <Numeric name="Layers"      value="22"/>
  <Numeric name="ThickModule" value="43.5*mm"/>
  <Numeric name="SlopeBottom" value="[etaMax:slope]"/>
  <Vector name="SlopeTop" type="numeric" nEntries="3">
    [hgcal:slope2], [hgcal:slope3], 0</Vector>
  <Vector name="ZFront" type="numeric" nEntries="3">
    [hgcal:zHGCal1], [hgcal:zHGCal3], [hgcal:zHGCal4]</Vector>
  <Vector name="RMaxFront" type="numeric" nEntries="3">
    [hgcal:rMaxHGCal1], [hgcal:rMaxHGCal3], [hgcal:rMaxHGCal4]</Vector>
  <Numeric name="Sectors"     value="18"/>
 </Algorithm>
</PosPartSection>

</DDDefinition>
