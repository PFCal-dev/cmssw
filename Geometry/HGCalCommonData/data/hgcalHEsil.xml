<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="hgcalHEsil.xml" eval="true">
  <Constant name="HEsil_nSegments1" value="8"/>
  <Constant name="HEsil_nSegments2" value="4"/>
  <Constant name="ThetaMin" value="0.0994838*rad"/>
  <Constant name="ThetaMax1" value="0.448061*rad"/>
  <Constant name="ThetaMax2" value="0.925025*rad"/>
  <Constant name="demiPhi" value="0.174533*rad"/>
  <Constant name="dZ_HEsil_absorber" value="52*mm"/>
  <Constant name="dZ_HEsil_detector" value="5.2*mm"/>
  <Constant name="dZ_HEsil_heatshield" value="3*mm"/>
  <Constant name="dZ_HEsil_wafer" value="0.2*mm"/>
  <Constant name="dZ_HEsil_pcb" value="1*mm"/>
  <Constant name="dZ_HEsil_airgap" value="1*mm"/>
  <Constant name="ZminHEsil" value="3448.6*mm"/>
  <Constant name="Zmin_HEsil2" value="3906.2*mm"/>
  <Constant name="ZmaxHEsil" value="4135*mm"/>
  <Constant name="rMinHEsil1" value="[etaMax:slope]*[ZminHEsil]"/>
  <Constant name="rMinHEsil2" value="[etaMax:slope]*[ZmaxHEsil]"/>
  <Constant name="rMaxHEsil1" value="([hgcal:rMaxHGCal1]+[hgcal:slope2]*([ZminHEsil]-[hgcal:zHGCal1]))"/>
  <Constant name="rMaxHEsil2" value="([hgcal:rMaxHGCal3]+[hgcal:slope3]*([ZmaxHEsil]-[hgcal:zHGCal3]))"/>
  <Constant name="rMapHEsil1" value="[rMaxHEsil1]*[hgcal:factor]"/>
  <Constant name="rMapHEsil2" value="[rMaxHEsil2]*[hgcal:factor]"/>
 <Vector name="HEsil_absorber1" type="numeric" nEntries="2"> 1, 8 </Vector>
 <Vector name="HEsil_shield1" type="numeric" nEntries="2"> 9, 16 </Vector>
 <Vector name="HEsil_silicon1" type="numeric" nEntries="2"> 17, 24 </Vector>
 <Vector name="HEsil_pcb1" type="numeric" nEntries="2"> 25, 32 </Vector>
 <Vector name="HEsil_airgap1" type="numeric" nEntries="2"> 33, 40 </Vector>
 <Vector name="HEsil_absorber2" type="numeric" nEntries="2"> 41, 44 </Vector>
 <Vector name="HEsil_shield2" type="numeric" nEntries="2"> 45, 48 </Vector>
 <Vector name="HEsil_silicon2" type="numeric" nEntries="2"> 49, 52 </Vector>
 <Vector name="HEsil_pcb2" type="numeric" nEntries="2"> 53, 56 </Vector>
 <Vector name="HEsil_airgap2" type="numeric" nEntries="2"> 57, 60 </Vector>
</ConstantsSection> 

<SolidSection label="hgcalHEsil.xml">
 <Polyhedra name="HGCalHESilicon" numSide="1" startPhi="350*deg" deltaPhi="20*deg">
  <ZSection z="[ZminHEsil]"     rMin="[rMinHEsil1]"       rMax="[rMapHEsil1]"/>
  <ZSection z="[hgcal:zHGCal3]" rMin="[hgcal:rMinHGCal3]" rMax="[hgcal:rMapHGCal3]"/>
  <ZSection z="[ZmaxHEsil]"     rMin="[rMinHEsil2]"       rMax="[rMapHEsil2]"/>
 </Polyhedra>
</SolidSection>

<LogicalPartSection label="hgcalHEsil.xml">
 <LogicalPart name="HGCalHESilicon" category="unspecified">
  <rSolid name="HGCalHESilicon"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
</LogicalPartSection>

<PosPartSection label="hgcalHEsil.xml">
 <Algorithm name="global:DDAngular">
  <rParent name="hgcal:HGCalHE"/>
  <String name="ChildName"    value="HGCalHESilicon"/>
  <Numeric name="StartCopyNo" value="1"/>
  <Numeric name="IncrCopyNo"  value="1"/>
  <Numeric name="N"           value="18"/>
  <Numeric name="StartAngle"  value="0*deg"/>
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="Radius"      value="0*m"/>
  <Vector name="RotateSolid" type="numeric" nEntries="3">0*deg, 0*deg, 0*deg </Vector>
 </Algorithm>
 <Algorithm name="hgcal:DDHGCalEEAlgo">
  <rParent name="hgcalHEsil:HGCalHESilicon"/>
  <Vector name="MaterialNames" type="string" nEntries="5">
   materials:Lead, materials:Copper, materials:Silicon,
   materials:M_NEMA FR4 plate, materials:Air</Vector>
  <Vector name="VolumeNames" type="string" nEntries="5">
   HESiliconAbsorber, HESiliconHeatShield, HESiliconSensitive, HESiliconPCB,
   HESiliconAirGap</Vector>
  <String name="Rotation" value="rotations:YXZ4"/>
  <Vector name="Layers" type="numeric" nEntries="2">8, 4</Vector>
  <Vector name="ThicknessType1" type="numeric" nEntries="2">
   52.0*mm, 52.0*mm</Vector>
   <Vector name="ThicknessType2" type="numeric" nEntries="2">
   3.0*mm, 3.0*mm</Vector>
  <Vector name="ThicknessType3" type="numeric" nEntries="2">
   0.2*mm, 0.2*mm</Vector>
  <Vector name="ThicknessType4" type="numeric" nEntries="2">
   1.0*mm, 1.0*mm</Vector>
  <Vector name="ThicknessType5" type="numeric" nEntries="2">
   1.0*mm, 1.0*mm</Vector>
  <Vector name="zMinBlock" type="numeric" nEntries="2">
   3448.6*mm, 3906.2*mm</Vector>
  <Numeric name="SlopeBottom" value="[etaMax:slope]"/>
  <Vector name="SlopeTop" type="numeric" nEntries="3">
    [hgcal:slope2], [hgcal:slope3], 0</Vector>
  <Vector name="ZFront" type="numeric" nEntries="3">
    [hgcal:zHGCal1], [hgcal:zHGCal3], [hgcal:zHGCal4]</Vector>
  <Vector name="RMaxFront" type="numeric" nEntries="3">
    [hgcal:rMaxHGCal1], [hgcal:rMaxHGCal3], [hgcal:rMaxHGCal4]</Vector>
  <Numeric name="Sectors"     value="18"/>
 </Algorithm>
</PosPartSection>

</DDDefinition>
